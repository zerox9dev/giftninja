# ü•∑ giftninja

[![giftninja cover](assets/cover.PNG)](assets/cover.PNG)

[–†—É—Å—Å–∫–∏–π](#—Ä—É—Å—Å–∫–∏–π) | [–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞](#—É–∫—Ä–∞—ó–Ω—Å—å–∫–∞) | [English](#english)

### –†—É—Å—Å–∫–∏–π

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–æ–∫—É–ø–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –∏–∑ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞ –≤ Telegram. –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —á–µ—Ä–µ–∑ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–≥–æ –±–æ—Ç–∞, —Ç–∞–∫ –∏ —á–µ—Ä–µ–∑ –ø–æ–¥–∫–ª—é—á–∞–µ–º—É—é —Å–µ—Å—Å–∏—é Telegram‚Äë–∞–∫–∫–∞—É–Ω—Ç–∞ (—é–∑–µ—Ä–±–æ—Ç). –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª–∏, —Ñ–∏–ª—å—Ç—Ä—ã –∏ –ø–æ–ª–Ω—É—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é. –ö–æ–º–∏—Å—Å–∏–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç. –ò—Å—Ö–æ–¥–Ω–∏–∫–∏ –æ—Ç–∫—Ä—ã—Ç—ã.

---

## üì¶ –ß—Ç–æ —É–º–µ–µ—Ç –±–æ—Ç

- –ü–æ–∫—É–ø–∫–∞ –ø–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º —Ñ–∏–ª—å—Ç—Ä–∞–º: –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞, —Å–∞–ø–ª–∞–π –∏ –ø—Ä–µ–¥–µ–ª –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–∫—É–ø–æ–∫.
- –î–≤–∞ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã: –æ—Ç –∏–º–µ–Ω–∏ –±–æ—Ç–∞ –∏ —á–µ—Ä–µ–∑ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç (—é–∑–µ—Ä–±–æ—Ç) ‚Äî –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å —Å–≤–æ—é Telegram‚Äë—Å–µ—Å—Å–∏—é –∏ –ø–æ–∫—É–ø–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ SOCKS5‚Äë–ø—Ä–æ–∫—Å–∏ –¥–ª—è —é–∑–µ—Ä–±–æ—Ç–∞ –∏ aiohttp‚Äë—Å–µ—Å—Å–∏–∏.
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π —Å–±–æ—Ä —Å–ø–∏—Å–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ —Å –¥–≤—É—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (–±–æ—Ç + —é–∑–µ—Ä–±–æ—Ç) —Å –≤—ã–±–æ—Ä–æ–º –Ω–∞–∏–±–æ–ª–µ–µ –≤—ã–≥–æ–¥–Ω–æ–≥–æ –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞.
- –î–æ 3 –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–æ–ª—É—á–∞—Ç–µ–ª—è–º–∏ –∏ –ª–∏–º–∏—Ç–∞–º–∏.
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –ø–æ–∫—É–ø–∫–∞—Ö –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∑–∞–¥–∞—á.
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ Telegram‚Äë–º–µ–Ω—é.
- –°—á—ë—Ç—á–∏–∫ –ø–æ–∫—É–ø–æ–∫ –∏ –∞–≤—Ç–æ—Å—Ç–æ–ø –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞.
- –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ –≤–æ–∑–≤—Ä–∞—Ç —á–µ—Ä–µ–∑ Telegram Stars, –≤ —Ç–æ–º —á–∏—Å–ª–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å –ª—é–±—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤.
- –¢–µ—Å—Ç–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π ‚Äî –ø–æ–∫—É–ø–∫–∞ –ø–æ–¥–∞—Ä–∫–∞ –∑–∞ 15 –∑–≤—ë–∑–¥.
- –ö–∞—Ç–∞–ª–æ–≥ –ø–æ–¥–∞—Ä–∫–æ–≤ –∏ –ø–æ–∫—É–ø–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–¥–∞—Ä–∫–∞ –≤ –∑–∞–¥–∞–Ω–Ω–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ.
- –í–æ–∑–≤—Ä–∞—Ç –≤—Å–µ—Ö –∑–≤—ë–∑–¥ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π.

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1) –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone https://github.com/zerox9dev/giftninja.git
cd giftninja
```

2) –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install -r requirements.txt
```

3) –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî –∑–¥–µ—Å—å —Ö—Ä–∞–Ω—è—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

–ü—Ä–∏–º–µ—Ä:
```env
TELEGRAM_BOT_TOKEN="123456:abcdefghijklmnopqrstuvwxyz"
TELEGRAM_USER_ID="123456789"
```

- `TELEGRAM_BOT_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –∏–∑ [@BotFather](https://t.me/BotFather)
- `TELEGRAM_USER_ID` ‚Äî –≤–∞—à user ID (–º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å –≤ [@userinfobot](https://t.me/userinfobot))

4) –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:
```bash
python main.py
```

---

## üó∫Ô∏è –°—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã

```mermaid
flowchart LR
  U[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ Telegram] -->|–∫–æ–º–∞–Ω–¥—ã / –º–µ–Ω—é| B[Bot API]
  U -->|—Å–µ—Å—Å–∏—è| Y[–Æ–∑–µ—Ä–±–æ—Ç]

  subgraph Core[–Ø–¥—Ä–æ]
    M[Middlewares] --> H[Handlers]
    H --> S[Services]
    S --> GM[–ú–µ–Ω–µ–¥–∂–µ—Ä –ø–æ–¥–∞—Ä–∫–æ–≤]
    S --> BAL[–ë–∞–ª–∞–Ω—Å / Stars]
    S --> PROFILES[–ü—Ä–æ—Ñ–∏–ª–∏ / –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è]
    S --> BUYB[–ü–æ–∫—É–ø–∫–∞ —á–µ—Ä–µ–∑ –±–æ—Ç–∞]
    S --> BUYY[–ü–æ–∫—É–ø–∫–∞ —á–µ—Ä–µ–∑ —é–∑–µ—Ä–±–æ—Ç–∞]
  end

  B --> H
  Y <-->|SOCKS5| PR[–ü—Ä–æ–∫—Å–∏]

  GM --> SRC1[–ò—Å—Ç–æ—á–Ω–∏–∫: –±–æ—Ç]
  GM --> SRC2[–ò—Å—Ç–æ—á–Ω–∏–∫: —é–∑–µ—Ä–±–æ—Ç]
  SRC1 --> MKP[–ö–∞—Ç–∞–ª–æ–≥ –ø–æ–¥–∞—Ä–∫–æ–≤]
  SRC2 --> MKP

  B --> NTF[–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram]

  classDef faint fill:#f9f9f9,stroke:#ccc,color:#333;
  class Core faint;
```

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- `main.py` ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
- `requirements.txt` ‚Äî —Å–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
- `.env` ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—Å—è).
- `config.json` ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—Å—è).
- `handlers/` ‚Äî –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∞–ø–¥–µ–π—Ç–æ–≤ (`handlers_main.py`, `handlers_wizard.py` –∏ –¥—Ä.).
- `middlewares/` ‚Äî –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ (–∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ç. –ø.).
- `services/` ‚Äî –±–∏–∑–Ω–µ—Å‚Äë–ª–æ–≥–∏–∫–∞ –∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø–æ–¥–∞—Ä–∫–∞–º–∏ (`balance.py`, `buy_bot.py`, `buy_userbot.py`, `config.py`, `menu.py`, `gifts_*`).
- `utils/` ‚Äî –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã (`logging.py`, `misc.py`, `mockdata.py`, `proxy.py`).

---

## üõ† –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

- `handlers/` ‚Äî –¥–æ–±–∞–≤–ª—è–π—Ç–µ –Ω–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏.
- –õ–æ–≥–∏–∫–∞ –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ `services/` –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
- –í `utils/` ‚Äî –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏.
- –í `middlewares/` ‚Äî –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Å–ª–æ–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞, rate‚Äëlimit, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ).


---

## üßë‚Äçüíª –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- Telegram: [@zerox9dev](https://t.me/zerox9dev)

---

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å [@leozizu](https://github.com/leozizu) –∑–∞ –∏–¥–µ—é –∏ –æ—Å–Ω–æ–≤—É –ø—Ä–æ–µ–∫—Ç–∞

---

### –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞

–Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–æ—ó –∫—É–ø—ñ–≤–ª—ñ –ø–æ–¥–∞—Ä—É–Ω–∫—ñ–≤ –∑ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞ –≤ Telegram. –ü—Ä–∞—Ü—é—î —è–∫ —á–µ—Ä–µ–∑ –∫–ª–∞—Å–∏—á–Ω–æ–≥–æ –±–æ—Ç–∞, —Ç–∞–∫ —ñ —á–µ—Ä–µ–∑ –ø—ñ–¥–∫–ª—é—á–µ–Ω—É —Å–µ—Å—ñ—é Telegram‚Äë–∞–∫–∞—É–Ω—Ç–∞ (—é–∑–µ—Ä–±–æ—Ç). –ü—ñ–¥—Ç—Ä–∏–º—É—î –ø—Ä–æ—Ñ—ñ–ª—ñ, —Ñ—ñ–ª—å—Ç—Ä–∏ —Ç–∞ –ø–æ–≤–Ω—É –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—é. –ö–æ–º—ñ—Å—ñ—ó –≤—ñ–¥—Å—É—Ç–Ω—ñ. –í–∏—Ö—ñ–¥–Ω–∏–π –∫–æ–¥ –≤—ñ–¥–∫—Ä–∏—Ç–∏–π.

---

## üì¶ –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

- –ö—É–ø—ñ–≤–ª—è –∑–∞ –Ω–∞–ª–∞—à—Ç–æ–≤—É–≤–∞–Ω–∏–º–∏ —Ñ—ñ–ª—å—Ç—Ä–∞–º–∏: –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ —ñ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ —Ü—ñ–Ω–∞, —Å–∞–ø–ª–∞–π —Ç–∞ –ª—ñ–º—ñ—Ç –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –ø–æ–∫—É–ø–æ–∫.
- –î–≤–∞ —Ä–µ–∂–∏–º–∏ —Ä–æ–±–æ—Ç–∏: –≤—ñ–¥ —ñ–º–µ–Ω—ñ –±–æ—Ç–∞ —Ç–∞ —á–µ—Ä–µ–∑ –≤–ª–∞—Å–Ω–∏–π –∞–∫–∞—É–Ω—Ç (—é–∑–µ—Ä–±–æ—Ç) ‚Äî –º–æ–∂–Ω–∞ –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏ —Å–≤–æ—é Telegram‚Äë—Å–µ—Å—ñ—é —ñ –∫—É–ø—É–≤–∞—Ç–∏ –Ω–∞–ø—Ä—è–º—É.
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ SOCKS5‚Äë–ø—Ä–æ–∫—Å—ñ –¥–ª—è —é–∑–µ—Ä–±–æ—Ç–∞ —Ç–∞ aiohttp‚Äë—Å–µ—Å—ñ—ó.
- –ü–∞—Ä–∞–ª–µ–ª—å–Ω–µ –∑–±–∏—Ä–∞–Ω–Ω—è —Å–ø–∏—Å–∫—É –ø–æ–¥–∞—Ä—É–Ω–∫—ñ–≤ –∑ –¥–≤–æ—Ö –¥–∂–µ—Ä–µ–ª (–±–æ—Ç + —é–∑–µ—Ä–±–æ—Ç) –∑ –≤–∏–±–æ—Ä–æ–º –Ω–∞–π–±—ñ–ª—å—à –≤–∏–≥—ñ–¥–Ω–æ–≥–æ –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –≤–∞—Ä—ñ–∞–Ω—Ç—É.
- –î–æ 3 –Ω–µ–∑–∞–ª–µ–∂–Ω–∏—Ö –ø—Ä–æ—Ñ—ñ–ª—ñ–≤ –∑ —Ä—ñ–∑–Ω–∏–º–∏ –æ–¥–µ—Ä–∂—É–≤–∞—á–∞–º–∏ —Ç–∞ –ª—ñ–º—ñ—Ç–∞–º–∏.
- –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ –≤–∏–∫–æ–Ω–∞–Ω—ñ –ø–æ–∫—É–ø–∫–∏ —Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∑–∞–¥–∞—á.
- –ö–µ—Ä—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–µ Telegram‚Äë–º–µ–Ω—é.
- –õ—ñ—á–∏–ª—å–Ω–∏–∫ –ø–æ–∫—É–ø–æ–∫ —Ç–∞ –∞–≤—Ç–æ—Å—Ç–æ–ø –ø—Ä–∏ –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—ñ –ª—ñ–º—ñ—Ç—É.
- –ü–æ–ø–æ–≤–Ω–µ–Ω–Ω—è —Ç–∞ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è —á–µ—Ä–µ–∑ Telegram Stars, –∑–æ–∫—Ä–µ–º–∞ –ø–æ–ø–æ–≤–Ω–µ–Ω–Ω—è –∑ –±—É–¥—å‚Äë—è–∫–∏—Ö –∞–∫–∞—É–Ω—Ç—ñ–≤.
- –¢–µ—Å—Ç–æ–≤–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π ‚Äî –∫—É–ø—ñ–≤–ª—è –ø–æ–¥–∞—Ä—É–Ω–∫–∞ –∑–∞ 15 –∑—ñ—Ä–æ–∫.
- –ö–∞—Ç–∞–ª–æ–≥ –ø–æ–¥–∞—Ä—É–Ω–∫—ñ–≤ —ñ –∫—É–ø—ñ–≤–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–¥–∞—Ä—É–Ω–∫–∞ —É –∑–∞–¥–∞–Ω—ñ–π –∫—ñ–ª—å–∫–æ—Å—Ç—ñ.
- –ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –≤—Å—ñ—Ö –∑—ñ—Ä–æ–∫ –æ–¥–Ω—ñ—î—é –∫–æ–º–∞–Ω–¥–æ—é.

---

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

1) –ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π:
```bash
git clone https://github.com/zerox9dev/giftninja.git
cd giftninja
```

2) –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:
```bash
pip install -r requirements.txt
```

3) –°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` —É –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ—î–∫—Ç—É ‚Äî —Ç—É—Ç –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞.

–ü—Ä–∏–∫–ª–∞–¥:
```env
TELEGRAM_BOT_TOKEN="123456:abcdefghijklmnopqrstuvwxyz"
TELEGRAM_USER_ID="123456789"
```

- `TELEGRAM_BOT_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –∑ [@BotFather](https://t.me/BotFather)
- `TELEGRAM_USER_ID` ‚Äî –≤–∞—à user ID (–º–æ–∂–Ω–∞ –¥—ñ–∑–Ω–∞—Ç–∏—Å—å —É [@userinfobot](https://t.me/userinfobot))

4) –ó–∞–ø—É—Å—Ç—ñ—Ç—å –±–æ—Ç–∞:
```bash
python main.py
```

---

## üó∫Ô∏è –°—Ö–µ–º–∞ —Ä–æ–±–æ—Ç–∏

```mermaid
flowchart LR
  U[–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á —É Telegram] -->|–∫–æ–º–∞–Ω–¥–∏ / –º–µ–Ω—é| B[Bot API]
  U -->|—Å–µ—Å—ñ—è| Y[–Æ–∑–µ—Ä–±–æ—Ç]

  subgraph Core[–Ø–¥—Ä–æ]
    M[Middlewares] --> H[Handlers]
    H --> S[Services]
    S --> GM[–ú–µ–Ω–µ–¥–∂–µ—Ä –ø–æ–¥–∞—Ä—É–Ω–∫—ñ–≤]
    S --> BAL[–ë–∞–ª–∞–Ω—Å / Stars]
    S --> PROFILES[–ü—Ä–æ—Ñ—ñ–ª—ñ / –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è]
    S --> BUYB[–ö—É–ø—ñ–≤–ª—è —á–µ—Ä–µ–∑ –±–æ—Ç–∞]
    S --> BUYY[–ö—É–ø—ñ–≤–ª—è —á–µ—Ä–µ–∑ —é–∑–µ—Ä–±–æ—Ç–∞]
  end

  B --> H
  Y <-->|SOCKS5| PR[–ü—Ä–æ–∫—Å—ñ]

  GM --> SRC1[–î–∂–µ—Ä–µ–ª–æ: –±–æ—Ç]
  GM --> SRC2[–î–∂–µ—Ä–µ–ª–æ: —é–∑–µ—Ä–±–æ—Ç]
  SRC1 --> MKP[–ö–∞—Ç–∞–ª–æ–≥ –ø–æ–¥–∞—Ä—É–Ω–∫—ñ–≤]
  SRC2 --> MKP

  B --> NTF[–°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –≤ Telegram]

  classDef faint fill:#f9f9f9,stroke:#ccc,color:#333;
  class Core faint;
```

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

- `main.py` ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥—É –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É.
- `requirements.txt` ‚Äî —Å–ø–∏—Å–æ–∫ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π.
- `.env` ‚Äî –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ (–Ω–µ –∫–æ–º—ñ—Ç–∏—Ç—å—Å—è).
- `config.json` ‚Äî –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è (–Ω–µ –∫–æ–º—ñ—Ç–∏—Ç—å—Å—è).
- `handlers/` ‚Äî –æ–±—Ä–æ–±–Ω–∏–∫–∏ –æ–Ω–æ–≤–ª–µ–Ω—å (`handlers_main.py`, `handlers_wizard.py` —Ç–æ—â–æ).
- `middlewares/` ‚Äî –ø—Ä–æ–º—ñ–∂–Ω—ñ –æ–±—Ä–æ–±–Ω–∏–∫–∏ (–∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø—É, –ª–æ–≥—É–≤–∞–Ω–Ω—è —Ç–æ—â–æ).
- `services/` ‚Äî –±—ñ–∑–Ω–µ—Å‚Äë–ª–æ–≥—ñ–∫–∞ —Ç–∞ –æ–ø–µ—Ä–∞—Ü—ñ—ó –∑ –ø–æ–¥–∞—Ä—É–Ω–∫–∞–º–∏ (`balance.py`, `buy_bot.py`, `buy_userbot.py`, `config.py`, `menu.py`, `gifts_*`).
- `utils/` ‚Äî –¥–æ–ø–æ–º—ñ–∂–Ω—ñ —É—Ç–∏–ª—ñ—Ç–∏ (`logging.py`, `misc.py`, `mockdata.py`, `proxy.py`).

---

## üõ† –î–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤

- –î–æ–¥–∞–≤–∞–π—Ç–µ –Ω–æ–≤—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó –æ–∫—Ä–µ–º–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏ –≤ `handlers/`.
- –õ–æ–≥—ñ–∫—É –≤–∏–Ω–µ—Å–µ–Ω–æ –¥–æ `services/` –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ç–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è.
- –í `utils/` ‚Äî —ñ–∑–æ–ª—å–æ–≤–∞–Ω—ñ –¥–æ–ø–æ–º—ñ–∂–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó.
- –í `middlewares/` ‚Äî –Ω–∞–ª–∞—à—Ç–æ–≤—É–≤–∞–Ω—ñ –ø—Ä–æ–º—ñ–∂–Ω—ñ —à–∞—Ä–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø—É, rate‚Äëlimit, –ª–æ–≥—É–≤–∞–Ω–Ω—è).

---

## üßë‚Äçüíª –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

- Telegram: [@zerox9dev](https://t.me/zerox9dev)

---

## üìú –õ—ñ—Ü–µ–Ω–∑—ñ—è

–ü—Ä–æ—î–∫—Ç —Ä–æ–∑–ø–æ–≤—Å—é–¥–∂—É—î—Ç—å—Å—è –∑–∞ –ª—ñ—Ü–µ–Ω–∑—ñ—î—é MIT. –ü–æ–¥—è–∫–∞ [@leozizu](https://github.com/leozizu) –∑–∞ —ñ–¥–µ—é —Ç–∞ –æ—Å–Ω–æ–≤—É –ø—Ä–æ—î–∫—Ç—É.

---

### English

A tool for automated purchasing of gifts from a Telegram marketplace. Works via a classic bot and a pluggable Telegram account session (userbot). Supports profiles, filters, and full automation. No fees. Open source.

---

## üì¶ Features

- Purchases with customizable filters: min/max price, supply, and purchase count cap.
- Two operation modes: bot and userbot ‚Äî connect your own Telegram session and buy directly.
- SOCKS5 proxy support for the userbot and the aiohttp session.
- Parallel fetching of gift lists from two sources (bot + userbot) with selection of the most profitable current option.
- Up to 3 independent profiles with different recipients and limits.
- Notifications about completed purchases and task completion.
- Control via an interactive Telegram menu.
- Purchase counter and auto‚Äëstop when the limit is reached.
- Top‚Äëups and refunds via Telegram Stars, including top‚Äëups from any accounts.
- Test scenario ‚Äî purchase a gift for 15 stars.
- Gift catalog and purchasing a specific gift in a given quantity.
- Refund all stars with a single command.

---

## üöÄ Quick start

1) Clone the repository:
```bash
git clone https://github.com/zerox9dev/giftninja.git
cd giftninja
```

2) Install dependencies:
```bash
pip install -r requirements.txt
```

3) Create a `.env` file in the project root ‚Äî this is where environment variables are stored.

Example:
```env
TELEGRAM_BOT_TOKEN="123456:abcdefghijklmnopqrstuvwxyz"
TELEGRAM_USER_ID="123456789"
```

- `TELEGRAM_BOT_TOKEN` ‚Äî bot token from [@BotFather](https://t.me/BotFather)
- `TELEGRAM_USER_ID` ‚Äî your user ID (you can get it from [@userinfobot](https://t.me/userinfobot))

4) Run the bot:
```bash
python main.py
```

---

## üó∫Ô∏è Architecture

```mermaid
flowchart LR
  U[User in Telegram] -->|commands / menu| B[Bot API]
  U -->|session| Y[Userbot]

  subgraph Core[Core]
    M[Middlewares] --> H[Handlers]
    H --> S[Services]
    S --> GM[Gift Manager]
    S --> BAL[Balance / Stars]
    S --> PROFILES[Profiles / configuration]
    S --> BUYB[Purchase via bot]
    S --> BUYY[Purchase via userbot]
  end

  B --> H
  Y <-->|SOCKS5| PR[Proxy]

  GM --> SRC1[Source: bot]
  GM --> SRC2[Source: userbot]
  SRC1 --> MKP[Gift catalog]
  SRC2 --> MKP

  B --> NTF[Notifications in Telegram]

  classDef faint fill:#f9f9f9,stroke:#ccc,color:#333;
  class Core faint;
```

---

## üìÇ Project structure

- `main.py` ‚Äî application entry point.
- `requirements.txt` ‚Äî dependency list.
- `.env` ‚Äî environment variables (not committed).
- `config.json` ‚Äî user configuration (not committed).
- `handlers/` ‚Äî update handlers (`handlers_main.py`, `handlers_wizard.py`, etc.).
- `middlewares/` ‚Äî middleware layers (access control, logging, etc.).
- `services/` ‚Äî business logic and gift operations (`balance.py`, `buy_bot.py`, `buy_userbot.py`, `config.py`, `menu.py`, `gifts_*`).
- `utils/` ‚Äî helper utilities (`logging.py`, `misc.py`, `mockdata.py`, `proxy.py`).

---

## üõ† For developers

- Add new scenarios in `handlers/` as separate files.
- Core logic is placed in `services/` for reuse and testing.
- `utils/` contains isolated helper functions.
- `middlewares/` provides configurable layers (e.g., access control, rate‚Äëlimit, logging).

---

## üßë‚Äçüíª Support

- Telegram: [@zerox9dev](https://t.me/zerox9dev)

---

## üìú License

Distributed under the MIT License. Thanks to [@leozizu](https://github.com/leozizu) for the idea and the base project.
